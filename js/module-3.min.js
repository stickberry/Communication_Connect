var module3=new function(){"use_strict";var a=this;this.init=function(){a.initResponsive();a.initData();a.initArrows()};this.initArrows=function(){var b=Snap.path.getPointAtLength(a.module3path,a.mid_point+-.48*a.mid_point),e=document.querySelector("#left-arrow"),c=b.x,b=b.y,c=a.module3pathrect.width/a.module3pathbbox.width*c,b=a.module3pathrect.height/a.module3pathbbox.height*b;e.style.left=c+"px";e.style.top=b+"px";b=Snap.path.getPointAtLength(a.module3path,a.mid_point+.48*a.mid_point);e=document.querySelector("#right-arrow");
c=b.x;b=b.y;c*=a.module3pathrect.width/a.module3pathbbox.width;b*=a.module3pathrect.height/a.module3pathbbox.height;e.style.left=c+"px";e.style.top=b+"px"};this.initEvents=function(){a.module3divs.forEach(function(b,e,c){b.setAttribute("data-id",e);b.addEventListener("mouseover",function(b){if(!a.isAnimated&&!a.hoverStop){b=this.getBoundingClientRect();var c=a.module3container.getBoundingClientRect(),d=this.getAttribute("data-id"),d=a.getId(d),e=b.top-c.top;b=b.left-c.left;a.hoverdivs[d]&&(a.hoverdivs[d].style.top=
e+"px",a.hoverdivs[d].style.left=b+"px",a.hoverdivs[d].style.transform="scale(2)")}});b.addEventListener("mouseout",function(b){b=this.getAttribute("data-id");b=a.getId(b);a.hoverdivs[b]&&(a.hoverdivs[b].style.transform="scale(0)")});b.addEventListener("click",function(a){console.log(this.children);window.location.href=this.children[0].href})});a.module3container.addEventListener("mousedown",function(b){a.hoverStop=!0;a.mouse.down=!0;a.mouse.x=b.clientX;a.mouse.y=b.clientY;a.mouse.pre.y=b.clientY;
a.mouse.pre.x=b.clientX});a.module3container.addEventListener("mouseup",function(b){a.mouse.down=!1;a.hoverStop=!1;a.module3divs.forEach(function(a,b,d){a.style["pointer-events"]=""})});a.module3container.addEventListener("mouseout",function(a){});a.module3container.addEventListener("mouseover",function(a){});a.module3container.addEventListener("mousemove",function(b){a.mouse.down&&(a.mouse.y=b.clientY,a.mouse.x=b.clientX,-100>=a.mouse.x-a.mouse.pre.x?(a.prev(5),a.mouse.pre.y=a.mouse.y,a.mouse.pre.x=
a.mouse.x,a.mouse.down=!1):100<=a.mouse.x-a.mouse.pre.x&&(a.next(5),a.mouse.pre.y=a.mouse.y,a.mouse.pre.x=a.mouse.x,a.mouse.down=!1))});window.addEventListener("resize",function(a){module3.init();module3.resize()},!1)};this.initData=function(){a.module3path=Snap("#module3path").select("path");a.module3divs=document.querySelectorAll("#module3 .circle");a.module3pathbbox=a.module3path.getBBox();a.module3pathrect=document.querySelector("#module3path path").getBoundingClientRect();a.module3container=
document.getElementById("module3container");console.log("rect :",a.module3pathrect);a.hoverdivs=document.querySelectorAll(".circlehover");a.divbox=a.module3divs[0].getBoundingClientRect();a.flight_path_length=Snap.path.getTotalLength(a.module3path);a.last_point=a.module3path.getPointAtLength(a.flight_path_length);a.mid_point=a.flight_path_length/2;a.duration=1E3;a.nbDivs=a.module3divs.length;a.stepMax=a.nbDivs-a.divperstep+1;a.step=window.module3Step?window.module3Step-a.divperstep/2:a.stepMax;a.prevStep=
a.step;a.staggerTime=a.duration/a.divperstep;a.isAnimated=!1;a.mouse={};a.mouse.x=0;a.mouse.y=0;a.mouse.pre={};a.mouse.pre.x=0;a.mouse.pre.y=0;a.mouse.down=!1;a.link="";a.hoverStop=!1};this.initResponsive=function(){var b=document.getElementById("module3"),e=document.getElementById("module3path");b.style.height=document.querySelector("#module3path path").getBoundingClientRect().height+"px";var c=window.innerWidth,d=c/1920*3400,d=3400<d?3400:d;b.style.width=d+"px";e.style.width=d+"px";a.divperstep=
700>=c?2:920>=c?3:1200>=c?4:1440>=c?5:6};this.start=function(){a.module3divs.forEach(function(b,e,c){a.animate(b,e)})};this.resize=function(){a.module3divs.forEach(function(b,e,c){a.animate(b,e,"static")})};this.animate=function(b,e,c){var d=a.getFrom(e),g=a.getTo(e),f=a.getId(e),d=.5*(d-a.mid_point)+a.mid_point,g=.5*(g-a.mid_point)+a.mid_point;c=c?c:"next";"next"==c?(f>=-a.divperstep&&0>=f?g=a.flight_path_length:0<f&&f<a.divperstep&&(d=0),f>-a.divperstep+1&&f<a.divperstep&&(c=Math.abs(d-g)/a.flight_path_length,
Snap.animate(d,g,function(c){a.isAnimated=!0;a.move(b,c)},a.duration*c,mina.easeinout,function(){a.getId(e);a.isAnimated=!1}))):"prev"==c?(f>=a.divperstep&&f<2*a.divperstep?g=0:0<f&&f<a.divperstep&&(d=a.flight_path_length),0<f&&f<2*a.divperstep-1&&(c=Math.abs(d-g)/a.flight_path_length,Snap.animate(d,g,function(c){a.isAnimated=!0;a.move(b,c)},a.duration*c,mina.easeinout,function(){a.getId(e);a.isAnimated=!1}))):"static"==c&&(c=Math.abs(d-g)/a.flight_path_length,d=g,f>=a.divperstep&&f<2*a.divperstep?
g=0:0<f&&f<a.divperstep&&(d=a.flight_path_length),f>=-a.divperstep&&0>=f?g=a.flight_path_length:0<f&&f<a.divperstep&&(d=0),Snap.animate(d,g,function(c){a.isAnimated=!0;a.move(b,c)},a.duration*c,mina.easeinout,function(){a.getId(e);a.isAnimated=!1}))};this.move=function(b,e){var c=Snap.path.getPointAtLength(a.module3path,e),d=c.x,d=a.module3pathrect.width/a.module3pathbbox.width*d,c=c.y,c=a.module3pathrect.height/a.module3pathbbox.height*c;b.style.transform="translate("+d+"px,"+c+"px)"};this.getFrom=
function(b){b=b+1-a.prevStep;return a.flight_path_length*(1-b/a.divperstep)};this.getTo=function(b){b=b+1-a.step;return a.flight_path_length*(1-b/a.divperstep)};this.getId=function(b){return parseInt(b)+1-a.step};this.next=function(b){b=a.divperstep-1;a.isAnimated||(a.prevStep=a.step,a.step!=a.stepMax&&(a.step=a.step+b<=a.stepMax?a.step+b:a.stepMax,a.module3divs.forEach(function(b,c,d){a.animate(b,c,"next")})))};this.prev=function(b){b=a.divperstep-1;a.isAnimated||(a.prevStep=a.step,0!=a.step&&(a.step=
0<=a.step-b?a.step-b:0,a.module3divs.forEach(function(b,c,d){a.animate(b,c,"prev")})))};return this};document.addEventListener("DOMContentLoaded",function(){module3.init();module3.initEvents();module3.resize();setTimeout(function(){module3.init();module3.resize()},1500)});
